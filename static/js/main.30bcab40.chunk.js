(this["webpackJsonporganizaion-repository-manager"]=this["webpackJsonporganizaion-repository-manager"]||[]).push([[0],{181:function(e,t,n){},25:function(e){e.exports=JSON.parse('{"f":"HOME","a":"ACCESS_FORM","g":"SELECT_ORGANIZATION","h":"SHOW_TABLE","c":"CONFIRM","b":"ACCESS_TOKEN","e":"DELETE_SUCCESS","d":"DELETE_ERROR"}')},276:function(e,t,n){"use strict";n.r(t);var r,c,a,i,o,s,d,l,b=n(0),u=n(26),O=n.n(u),j=(n(180),n(181),n(27)),h=n(111),f=n(24),p=n(25),g={state:"",accessToken:"",result:"idle"},m={type:p.e},y={type:p.d},w={type:p.f},v={type:p.a},S={type:p.g},x={type:p.h},C={type:p.c},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.f:return Object(f.a)(Object(f.a)({},e),{},{state:p.f});case p.a:return Object(f.a)(Object(f.a)({},e),{},{state:p.a});case p.g:return Object(f.a)(Object(f.a)({},e),{},{state:p.g});case p.h:return Object(f.a)(Object(f.a)({},e),{},{state:p.h});case p.c:return Object(f.a)(Object(f.a)({},e),{},{state:p.c});case p.b:return Object(f.a)(Object(f.a)({},e),{},{accessToken:t.data});case p.e:return Object(f.a)(Object(f.a)({},e),{},{result:"success"});case p.d:return Object(f.a)(Object(f.a)({},e),{},{result:"error"});default:return e}},k={login:{avatar_url:"",name:""},description:""},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[k],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACCESS_ORGANIZATIONS":return t.data.map((function(e,t){return Object(f.a)(Object(f.a)({},k),{},{key:t,login:{avatar_url:e.avatar_url,name:e.login},description:e.description})}));default:return e}},_={login:"",repositories:[{name:"",starred:0,watched:0,createdAt:null,updatedAt:null}]},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[_],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACCESS_REPOSITORIES":return Object(f.a)(Object(f.a)({},e),{},{repositories:t.data.map((function(e,t){return{key:t,name:e.name,starred:e.stargazers_count,watched:e.watchers_count,createdAt:e.created_at,updatedAt:e.updated_at}}))});case"LOGIN":return Object(f.a)(Object(f.a)({},_),{},{login:t.data});default:return e}},I=Object(h.a)({state:E,organization:T,repository:A}),R=n(41),N=n(52),z=n(53),F=Object(z.a)(r||(r=Object(N.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n\n  div {\n    margin-right: 10px;\n  }\n"]))),D=Object(z.a)(c||(c=Object(N.a)(["\n  @media screen and (min-width: 360px) {\n    max-width: 30vh;\n  }\n\n  @media screen and (min-width: 425px) {\n    max-width: 40vh;\n  }\n\n  @media screen and (min-width: 768px) {\n    min-width: 80vh;\n  }\n\n  @media screen and (min-width: 1096px) {\n    min-width: 120vh;\n  }\n"]))),L=Object(z.a)(a||(a=Object(N.a)(["\n  font-family: 'Work Sans', sans-serif;\n  color: #EDEBEC;\n\n  @media screen and (min-width: 360px) {\n    font-size: 5vw;\n  }\n\n  @media screen and (min-width: 426px) {\n    font-size: 5vw;\n  }\n"]))),B=Object(z.a)(i||(i=Object(N.a)(["\n  font-family: 'Open Sans Condensed', sans-serif;\n  color: #FFF;\n\n  @media screen and (min-width: 360px) {\n    width: 26vw;\n    font-size: 2vw;\n    height: 10vw;\n  }\n\n  @media screen and (min-width: 426px) {\n    width: 30vw;\n    font-size: 3vw;\n    height: 6vw;\n  }\n"]))),G=Object(z.a)(o||(o=Object(N.a)(["\n  color: #F7F8FB\n"]))),q=n(9),M=function(e){return Object(q.b)("p",{css:L,children:e.children})},P=function(){var e=Object(j.b)();return Object(q.c)(q.a,{children:[Object(q.b)(M,{children:"Organization Repository Manager"}),Object(q.b)(R.a,{css:B,type:"primary",className:"btn btn-white btn-animate",onClick:function(){e(v)},children:Object(q.b)("span",{children:"Go!"})})]})},W=n(39),U=n(283),X=n(169),H=n(285),J=Object(z.a)(s||(s=Object(N.a)(["\n  min-width: 300px;\n  min-height: 60px;\n"]))),K=n(76),V=n.n(K),Z={url:"https://api.github.com/user/orgs",method:"get"},Y=function(){var e=Object(j.b)(),t=U.a.useForm(),n=Object(W.a)(t,1)[0],r=Object(b.useState)(!1),c=Object(W.a)(r,2),a=c[0],i=c[1];return Object(q.c)(U.a,{form:n,onFinish:function(t){var n;i(!0),e((n=t.accessToken,{type:p.b,data:n})),V()(Object(f.a)(Object(f.a)({},Z),{},{headers:{Authorization:"token ".concat(t.accessToken)}})).then((function(t){e(S),e(function(e){return{type:"ACCESS_ORGANIZATIONS",data:e}}(t.data))})).catch((function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),X.b.error(e.response.data.message)):e.request?(console.log(e.request),X.b.error("Try again.")):X.b.error(e.message)})).finally((function(){return i(!1)}))},children:[Object(q.b)(U.a.Item,{name:"accessToken",rules:[{required:!0}],children:Object(q.b)(H.a,{css:J,placeholder:"Github Access Token"})}),Object(q.b)("p",{children:Object(q.b)("a",{css:G,href:"https://github.com/settings/tokens",target:"_blank",rel:"noreferrer noopener",children:"Get Access Token"})}),Object(q.b)(U.a.Item,{children:Object(q.b)(R.a,{type:"primary",htmlType:"submit",loading:a,children:"Submit"})})]})},Q=n(286),$=n(289),ee=n(282),te=n(133),ne=function(e){return new Date(e).toLocaleString()},re=function(){var e,t=Object(j.c)((function(e){return e.repository.repositories})),n=Object(j.c)((function(e){return e.repository.login})),r=Object(b.useState)(!0),c=Object(W.a)(r,2),a=c[0],i=c[1],o=Object(b.useState)([]),s=Object(W.a)(o,2),d=s[0],l=s[1],u=Object(b.useState)(),O=Object(W.a)(u,2),h=(O[0],O[1]),p=Object(b.useState)(),g=Object(W.a)(p,2),m=(g[0],g[1]),y=Object(b.useRef)(),w=function(e,t,n){t(),h(e[0]),m(n)},v=[Object(f.a)({title:"Name",dataIndex:"name",sorter:function(e,t){return(e.name>t.name)-(e.name<t.name)}},(e="name",{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,c=t.confirm,a=t.clearFilters;return Object(q.c)("div",{style:{padding:8},children:[Object(q.b)(H.a,{ref:y,placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return w(r,c,e)},style:{marginBottom:8,display:"block"}}),Object(q.c)($.b,{children:[Object(q.b)(R.a,{onClick:function(){return function(e){e(),h("")}(a)},size:"small",style:{width:90},children:"Reset"}),Object(q.b)(R.a,{type:"primary",onClick:function(){return w(r,c,e)},icon:Object(q.b)(te.a,{}),size:"small",style:{width:90},children:"Search"})]})]})},filterIcon:function(e){return Object(q.b)(te.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e]?n[e].toString().toLowerCase().includes(t.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return y.current.select()}),100)},render:function(e){return Object(q.b)("a",{style:{fontWeight:"bold"},href:"https://www.github.com/".concat(n,"/").concat(e),target:"_blank",rel:"noreferrer noopener",children:e})}})),{title:"Creation Date",dataIndex:"createdAt",render:ne,defaultSortOrder:"descend",sorter:function(e,t){return(e.createdAt>t.createdAt)-(e.createdAt<t.createdAt)}},{title:"Last Updated Date",dataIndex:"updatedAt",render:ne,sorter:function(e,t){return(e.updatedAt>t.updatedAt)-(e.updatedAt<t.updatedAt)}},{title:"Star",dataIndex:"starred",width:60,sorter:function(e,t){return(e.starred>t.starred)-(e.starred<t.starred)}},{title:"Watch",dataIndex:"watched",width:60,sorter:function(e,t){return(e.watched>t.watched)-(e.watched<t.watched)}}];Object(b.useEffect)((function(){i(!0)}),[]),Object(b.useEffect)((function(){i(!1)}),[t]);var S={onChange:function(e){l(e)}};return{renderTable:function(){return Object(q.b)(ee.a,{css:D,columns:v,rowSelection:S,dataSource:t,loading:a,scroll:{x:"calc(700px)",y:420}})},selectedRepositories:d}},ce=n(21),ae=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.repository.repositories})),n=Object(j.c)((function(e){return e.state})).accessToken,r=Object(b.useState)(!1),c=Object(W.a)(r,2),a=c[0],i=c[1],o=Object(j.c)((function(e){return e.repository.login})),s=re(),d=s.renderTable,l=s.selectedRepositories,u=l.length>0;return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(M,{children:"Select Repositories"}),u&&Object(ce.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:Object(ce.jsxs)("p",{children:[l.length," selected"]})}),d(),Object(ce.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0 40px"},children:[Object(ce.jsx)(R.a,{onClick:function(){e(S)},children:"Back"}),Object(ce.jsx)(R.a,{type:"primary",onClick:function(){i(!0)},children:"Delete"})]}),Object(ce.jsx)(Q.a,{title:"Confirm",visible:a,onOk:function(){i(!1),V.a.all(l.map((function(e){V()({method:"delete",url:"https://api.github.com/repos/".concat(o,"/").concat(t[e].name),headers:{Authorization:"token ".concat(n)}})}))).then((function(t){e(m)})).catch((function(t){t.response?X.b.error(t.response.data.message):t.request?X.b.error("Try again."):X.b.error(t.message),e(y)})),e(C)},onCancel:function(){i(!1)},children:Object(ce.jsxs)("p",{children:[Object(ce.jsx)("strong",{children:l.length})," repositories will be deleted."]})})]})},ie=n(287),oe=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.state})).result;return Object(ce.jsxs)(ce.Fragment,{children:["success"===t&&Object(ce.jsx)(ie.a,{status:"success",title:"Successfully deleted repositories. ",extra:Object(ce.jsx)(R.a,{type:"primary",onClick:function(){e(w)},children:"Back Home"})}),"error"===t&&Object(ce.jsx)(ie.a,{status:"warning",title:"There are some problems with your operation.",extra:Object(ce.jsx)(R.a,{type:"primary",onClick:function(){e(S)},children:"Back"})})]})},se=function(){return Object(q.c)(q.a,{children:["Made by\xa0",Object(q.b)("a",{css:G,href:"https://github.com/wilddoubt",target:"_blank",rel:"noreferrer noopener",children:"wildDoubt"})]})},de=n(284),le=[{title:"Name",dataIndex:"login",render:function(e){var t=e.avatar_url,n=e.name;return Object(q.c)("div",{css:F,children:[Object(q.b)(de.a,{src:t,width:16,preview:!1}),Object(q.b)("a",{style:{fontWeight:"bold"},href:"https://www.github.com/"+n,target:"_blank",rel:"noreferrer noopener",children:n})]})}},{title:"Description",dataIndex:"description"}],be=function(){var e=Object(b.useState)(""),t=Object(W.a)(e,2),n=t[0],r=t[1],c=Object(j.c)((function(e){return e.organization})),a={type:"radio",onChange:function(e){r(c[e].login.name)}};return{renderTable:function(){return Object(q.b)(ee.a,{css:D,rowSelection:a,columns:le,dataSource:c})},currentOrganization:n}},ue=function(){var e=Object(b.useState)(!1),t=Object(W.a)(e,2),n=t[0],r=t[1],c=Object(j.c)((function(e){return e.state})).accessToken,a=Object(b.useState)(!1),i=Object(W.a)(a,2),o=i[0],s=i[1],d=Object(j.b)(),l=be(),u=l.renderTable,O=l.currentOrganization;return Object(q.c)(q.a,{children:[Object(q.b)(M,{children:"Select a Organization"}),u(),Object(q.b)(Q.a,{title:"Confirm",visible:o,onOk:function(){s(!1),r(!0),d({type:"LOGIN",data:O}),V()({url:"https://api.github.com/orgs/".concat(O,"/repos?per_page=200"),method:"get",headers:{Authorization:"token ".concat(c)}}).then((function(e){d(function(e){return{type:"ACCESS_REPOSITORIES",data:e}}(e.data))})).catch((function(e){e.response?(console.log(e.response.status),console.log(e.response.headers),X.b.error(e.response.data.message)):e.request?(console.log(e.request),X.b.error("Try again.")):X.b.error(e.message)})).finally((function(){r(!1),d(x)}))},onCancel:function(){s(!1)},children:Object(q.c)("p",{children:["You select ",Object(q.b)("strong",{children:O}),". Right?"]})}),Object(q.b)(R.a,{onClick:function(){O.length>0?s(!0):X.b.error("Oops! You haven't select a organization!!")},loading:n,children:"Next"})]})},Oe=n(281),je=n(280),he=n(288),fe=Object(z.a)(d||(d=Object(N.a)(["\n  flex: 0;\n  align-self: center;\n"]))),pe=Object(z.a)(l||(l=Object(N.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  flex: 1;\n  align-self: center;\n"])));var ge=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.state})).state;return Object(b.useEffect)((function(){e(w)}),[]),Object(q.c)(q.a,{children:[Object(q.b)(je.a,{mode:"out-in",children:Object(q.b)(he.a,{classNames:"fade",addEndListener:function(e,t){e.addEventListener("transitionend",t,!1)},children:Object(q.c)("div",{css:pe,children:[t===p.f&&Object(q.b)(P,{}),t===p.a&&Object(q.b)(Y,{}),t===p.g&&Object(q.b)(ue,{}),t===p.h&&Object(q.b)(ae,{}),t===p.c&&Object(q.b)(oe,{})]})},t)}),Object(q.c)("div",{css:fe,children:[Object(q.b)(Oe.a,{}),Object(q.b)(se,{})]})]})},me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,290)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},ye=Object(h.b)(I,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());O.a.render(Object(ce.jsx)(j.a,{store:ye,children:Object(ce.jsx)(ge,{})}),document.getElementById("root")),me()}},[[276,1,2]]]);
//# sourceMappingURL=main.30bcab40.chunk.js.map
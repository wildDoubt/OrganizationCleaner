(this["webpackJsonporganizaion-repository-manager"]=this["webpackJsonporganizaion-repository-manager"]||[]).push([[0],{181:function(e,t,n){},25:function(e){e.exports=JSON.parse('{"f":"HOME","a":"ACCESS_FORM","g":"SELECT_ORGANIZATION","h":"SHOW_TABLE","c":"CONFIRM","b":"ACCESS_TOKEN","e":"DELETE_SUCCESS","d":"DELETE_ERROR"}')},276:function(e,t,n){"use strict";n.r(t);var r,c,a,i,o,s,d,l,b=n(26),u=n.n(b),O=(n(180),n(181),n(27)),h=n(111),j=n(24),f=n(25),p={state:"",accessToken:"",result:"idle"},g={type:f.e},m={type:f.d},y={type:f.f},w={type:f.a},x={type:f.g},v={type:f.h},S={type:f.c},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.f:return Object(j.a)(Object(j.a)({},e),{},{state:f.f});case f.a:return Object(j.a)(Object(j.a)({},e),{},{state:f.a});case f.g:return Object(j.a)(Object(j.a)({},e),{},{state:f.g});case f.h:return Object(j.a)(Object(j.a)({},e),{},{state:f.h});case f.c:return Object(j.a)(Object(j.a)({},e),{},{state:f.c});case f.b:return Object(j.a)(Object(j.a)({},e),{},{accessToken:t.data});case f.e:return Object(j.a)(Object(j.a)({},e),{},{result:"success"});case f.d:return Object(j.a)(Object(j.a)({},e),{},{result:"error"});default:return e}},E={login:{avatarUrl:"",name:""},description:""},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[E],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACCESS_ORGANIZATIONS":return t.data.map((function(e,t){return Object(j.a)(Object(j.a)({},E),{},{key:t,login:{avatarUrl:e.avatar_url,name:e.login},description:e.description})}));default:return e}},T={login:"",repositories:[{name:"",starred:0,watched:0,createdAt:null,updatedAt:null}]},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[T],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACCESS_REPOSITORIES":return Object(j.a)(Object(j.a)({},e),{},{repositories:t.data.map((function(e,t){return{key:t,name:e.name,starred:e.stargazers_count,watched:e.watchers_count,createdAt:e.created_at,updatedAt:e.updated_at}}))});case"LOGIN":return Object(j.a)(Object(j.a)({},T),{},{login:t.data});default:return e}},_=Object(h.a)({state:C,organization:k,repository:A}),I=n(281),R=n(280),N=n(288),z=n(0),F=n(40),D=n(52),L=n(53),B=Object(L.a)(r||(r=Object(D.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n\n  div {\n    margin-right: 10px;\n  }\n"]))),G=Object(L.a)(c||(c=Object(D.a)(["\n  max-width: 30vh;\n  @media screen and (min-width: 360px) {\n    max-width: 35vh;\n  }\n\n  @media screen and (min-width: 425px) {\n    max-width: 40vh;\n  }\n\n  @media screen and (min-width: 768px) {\n    max-width: 70vh;\n  }\n  @media screen and (min-width: 1096px) {\n    max-width: 120vh;\n  }\n"]))),U=Object(L.a)(a||(a=Object(D.a)(["\n  font-family: 'Work Sans', sans-serif;\n  color: #EDEBEC;\n\n  @media screen and (min-width: 360px) {\n    font-size: 5vw;\n  }\n\n  \n  @media screen and (min-width: 426px) {\n    font-size: 5vw;\n  }\n"]))),q=Object(L.a)(i||(i=Object(D.a)(["\n  font-family: 'Open Sans Condensed', sans-serif;\n  color: #FFF;\n\n  @media screen and (min-width: 360px) {\n    width: 26vw;\n    font-size: 2vw;\n    height: 10vw;\n  }\n\n  @media screen and (min-width: 426px) {\n    width: 30vw;\n    font-size: 3vw;\n    height: 6vw;\n  }\n"]))),M=Object(L.a)(o||(o=Object(D.a)(["\n  color: #F7F8FB\n"]))),P=n(9),W=function(e){return Object(P.b)("p",{css:U,children:e.children})},X=function(){var e=Object(O.b)();return Object(P.c)(P.a,{children:[Object(P.b)(W,{children:"Organization Repository Manager"}),Object(P.b)(F.a,{css:q,type:"primary",className:"btn btn-white btn-animate",onClick:function(){e(w)},children:Object(P.b)("span",{children:"Go!"})})]})},H=n(45),J=n(283),K=n(169),V=n(285),Z=n(76),Y=n.n(Z),Q=Object(L.a)(s||(s=Object(D.a)(["\n  min-width: 300px;\n  min-height: 60px;\n"]))),$={url:"https://api.github.com/user/orgs",method:"get"},ee=function(){var e=Object(O.b)(),t=J.a.useForm(),n=Object(H.a)(t,1)[0],r=Object(z.useState)(!1),c=Object(H.a)(r,2),a=c[0],i=c[1];return Object(P.c)(J.a,{form:n,onFinish:function(t){var n;i(!0),e((n=t.accessToken,{type:f.b,data:n})),Y()(Object(j.a)(Object(j.a)({},$),{},{headers:{Authorization:"token ".concat(t.accessToken)}})).then((function(t){e(x),e(function(e){return{type:"ACCESS_ORGANIZATIONS",data:e}}(t.data))})).catch((function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers),K.b.error(e.response.data.message)):e.request?(console.log(e.request),K.b.error("Try again.")):K.b.error(e.message)})).finally((function(){return i(!1)}))},children:[Object(P.b)(J.a.Item,{name:"accessToken",rules:[{required:!0}],children:Object(P.b)(V.a,{css:Q,placeholder:"Github Access Token"})}),Object(P.b)("p",{children:Object(P.b)("a",{css:M,href:"https://github.com/settings/tokens",target:"_blank",rel:"noreferrer noopener",children:"Get Access Token"})}),Object(P.b)(J.a.Item,{children:Object(P.b)(F.a,{type:"primary",htmlType:"submit",loading:a,children:"Submit"})})]})},te=n(286),ne=n(289),re=n(282),ce=n(133),ae=function(e){return new Date(e).toLocaleString()},ie=function(){var e,t=Object(O.c)((function(e){return e.repository.repositories})),n=Object(O.c)((function(e){return e.repository.login})),r=Object(z.useState)(!0),c=Object(H.a)(r,2),a=c[0],i=c[1],o=Object(z.useState)([]),s=Object(H.a)(o,2),d=s[0],l=s[1],b=Object(z.useRef)(),u=function(e,t){t()},h=[Object(j.a)({title:"Name",dataIndex:"name",sorter:function(e,t){return(e.name>t.name)-(e.name<t.name)}},(e="name",{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,c=t.confirm,a=t.clearFilters;return Object(P.c)("div",{style:{padding:8},children:[Object(P.b)(V.a,{ref:b,placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return u(0,c)},style:{marginBottom:8,display:"block"}}),Object(P.c)(ne.b,{children:[Object(P.b)(F.a,{onClick:function(){return function(e){e()}(a)},size:"small",style:{width:90},children:"Reset"}),Object(P.b)(F.a,{type:"primary",onClick:function(){return u(0,c)},icon:Object(P.b)(ce.a,{}),size:"small",style:{width:90},children:"Search"})]})]})},filterIcon:function(e){return Object(P.b)(ce.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e]?n[e].toString().toLowerCase().includes(t.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return b.current.select()}),100)},render:function(e){return Object(P.b)("a",{style:{fontWeight:"bold"},href:"https://www.github.com/".concat(n,"/").concat(e),target:"_blank",rel:"noreferrer noopener",children:e})}})),{title:"Creation Date",dataIndex:"createdAt",render:ae,defaultSortOrder:"descend",sorter:function(e,t){return(e.createdAt>t.createdAt)-(e.createdAt<t.createdAt)}},{title:"Last Updated Date",dataIndex:"updatedAt",render:ae,sorter:function(e,t){return(e.updatedAt>t.updatedAt)-(e.updatedAt<t.updatedAt)}},{title:"Star",dataIndex:"starred",width:60,sorter:function(e,t){return(e.starred>t.starred)-(e.starred<t.starred)}},{title:"Watch",dataIndex:"watched",width:60,sorter:function(e,t){return(e.watched>t.watched)-(e.watched<t.watched)}}];Object(z.useEffect)((function(){i(!0)}),[]),Object(z.useEffect)((function(){i(!1)}),[t]);var f={onChange:function(e){l(e)}};return{renderTable:function(){return Object(P.b)(re.a,{css:G,columns:h,rowSelection:f,dataSource:t,loading:a,scroll:{x:"calc(500px)",y:300}})},selectedRepositories:d}},oe=n(21),se=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.repository.repositories})),n=Object(O.c)((function(e){return e.state})).accessToken,r=Object(z.useState)(!1),c=Object(H.a)(r,2),a=c[0],i=c[1],o=Object(O.c)((function(e){return e.repository.login})),s=ie(),d=s.renderTable,l=s.selectedRepositories,b=l.length>0;return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(W,{children:"Select Repositories"}),b&&Object(oe.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:Object(oe.jsxs)("p",{children:[l.length," ","selected"]})}),d(),Object(oe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0 40px"},children:[Object(oe.jsx)(F.a,{onClick:function(){e(x)},children:"Back"}),Object(oe.jsx)(F.a,{type:"primary",onClick:function(){i(!0)},children:"Delete"})]}),Object(oe.jsx)(te.a,{title:"Confirm",visible:a,onOk:function(){i(!1),Y.a.all(l.map((function(e){return Y()({method:"delete",url:"https://api.github.com/repos/".concat(o,"/").concat(t[e].name),headers:{Authorization:"token ".concat(n)}})}))).then((function(){e(g)})).catch((function(t){t.response?K.b.error(t.response.data.message):t.request?K.b.error("Try again."):K.b.error(t.message),e(m)})),e(S)},onCancel:function(){i(!1)},children:Object(oe.jsxs)("p",{children:[Object(oe.jsx)("strong",{children:l.length})," ","repositories will be deleted."]})})]})},de=n(287),le=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.state})).result;return Object(oe.jsxs)(oe.Fragment,{children:["success"===t&&Object(oe.jsx)(de.a,{status:"success",title:"Successfully deleted repositories. ",extra:Object(oe.jsx)(F.a,{type:"primary",onClick:function(){e(y)},children:"Back Home"})}),"error"===t&&Object(oe.jsx)(de.a,{status:"warning",title:"There are some problems with your operation.",extra:Object(oe.jsx)(F.a,{type:"primary",onClick:function(){e(x)},children:"Back"})})]})},be=function(){return Object(P.c)(P.a,{children:["Made by\xa0",Object(P.b)("a",{css:M,href:"https://github.com/wilddoubt",target:"_blank",rel:"noreferrer noopener",children:"wildDoubt"})]})},ue=n(284),Oe=[{title:"Name",dataIndex:"login",render:function(e){var t=e.avatarUrl,n=e.name;return Object(P.c)("div",{css:B,children:[Object(P.b)(ue.a,{src:t,width:16,preview:!1}),Object(P.b)("a",{style:{fontWeight:"bold"},href:"https://www.github.com/".concat(n),target:"_blank",rel:"noreferrer noopener",children:n})]})}},{title:"Description",dataIndex:"description"}],he=function(){var e=Object(z.useState)(""),t=Object(H.a)(e,2),n=t[0],r=t[1],c=Object(O.c)((function(e){return e.organization})),a={type:"radio",onChange:function(e){r(c[e].login.name)}};return{renderTable:function(){return Object(P.b)(re.a,{css:G,rowSelection:a,columns:Oe,dataSource:c,scroll:{x:"calc(300px)",y:"calc(350px)"}})},currentOrganization:n}},je=function(){var e=Object(z.useState)(!1),t=Object(H.a)(e,2),n=t[0],r=t[1],c=Object(O.c)((function(e){return e.state})).accessToken,a=Object(z.useState)(!1),i=Object(H.a)(a,2),o=i[0],s=i[1],d=Object(O.b)(),l=he(),b=l.renderTable,u=l.currentOrganization;return Object(P.c)(P.a,{children:[Object(P.b)(W,{children:"Select a Organization"}),b(),Object(P.b)(te.a,{title:"Confirm",visible:o,onOk:function(){s(!1),r(!0),d({type:"LOGIN",data:u}),Y()({url:"https://api.github.com/orgs/".concat(u,"/repos?per_page=200"),method:"get",headers:{Authorization:"token ".concat(c)}}).then((function(e){d(function(e){return{type:"ACCESS_REPOSITORIES",data:e}}(e.data))})).catch((function(e){e.response?(console.log(e.response.status),console.log(e.response.headers),K.b.error(e.response.data.message)):e.request?(console.log(e.request),K.b.error("Try again.")):K.b.error(e.message)})).finally((function(){r(!1),d(v)}))},onCancel:function(){s(!1)},children:Object(P.c)("p",{children:["You select",Object(P.b)("strong",{children:u}),". Right?"]})}),Object(P.b)(F.a,{onClick:function(){u.length>0?s(!0):K.b.error("Oops! You haven't select a organization!!")},loading:n,children:"Next"})]})},fe=Object(L.a)(d||(d=Object(D.a)(["\n  flex: 0;\n  align-self: center;\n"]))),pe=Object(L.a)(l||(l=Object(D.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  flex: 1;\n  align-self: center;\n"])));var ge=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.state})).state;return Object(z.useEffect)((function(){e(y)}),[]),Object(P.c)(P.a,{children:[Object(P.b)(R.a,{mode:"out-in",children:Object(P.b)(N.a,{classNames:"fade",addEndListener:function(e,t){e.addEventListener("transitionend",t,!1)},children:Object(P.c)("div",{css:pe,children:[t===f.f&&Object(P.b)(X,{}),t===f.a&&Object(P.b)(ee,{}),t===f.g&&Object(P.b)(je,{}),t===f.h&&Object(P.b)(se,{}),t===f.c&&Object(P.b)(le,{})]})},t)}),Object(P.c)("div",{css:fe,children:[Object(P.b)(I.a,{}),Object(P.b)(be,{})]})]})},me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,290)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},ye=Object(h.b)(_,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());u.a.render(Object(oe.jsx)(O.a,{store:ye,children:Object(oe.jsx)(ge,{})}),document.getElementById("root")),me()}},[[276,1,2]]]);
//# sourceMappingURL=main.f7447fee.chunk.js.map
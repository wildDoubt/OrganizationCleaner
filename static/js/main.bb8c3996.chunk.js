(this["webpackJsonporganization-cleaner"]=this["webpackJsonporganization-cleaner"]||[]).push([[0],{181:function(e,t,n){},19:function(e){e.exports=JSON.parse('{"i":"HOME","a":"ACCESS_FORM","l":"SELECT_ORGANIZATION","m":"SHOW_TABLE","e":"CONFIRM","d":"ACCESS_TOKEN","g":"DELETE_SUCCESS","f":"DELETE_ERROR","h":"ERROR","j":"IDLE","n":"SUCCESS","c":"ACCESS_REPOSITORIES","k":"LOGIN","b":"ACCESS_ORGANIZATIONS"}')},276:function(e,t,n){"use strict";n.r(t);var r,c,a,i,o,s,d,l,b=n(26),u=n.n(b),O=(n(180),n(181),n(27)),h=n(111),j=n(25),f=n(19),p={state:"",accessToken:"",result:f.j},m={type:f.g},g={type:f.f},y={type:f.i},w={type:f.a},x={type:f.l},v={type:f.m},S={type:f.e},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.i:return Object(j.a)(Object(j.a)({},e),{},{state:f.i});case f.a:return Object(j.a)(Object(j.a)({},e),{},{state:f.a});case f.l:return Object(j.a)(Object(j.a)({},e),{},{state:f.l});case f.m:return Object(j.a)(Object(j.a)({},e),{},{state:f.m});case f.e:return Object(j.a)(Object(j.a)({},e),{},{state:f.e});case f.d:return Object(j.a)(Object(j.a)({},e),{},{accessToken:t.data});case f.g:return Object(j.a)(Object(j.a)({},e),{},{result:f.n});case f.f:return Object(j.a)(Object(j.a)({},e),{},{result:f.h});default:return e}},C={login:{avatarUrl:"",name:""},description:""},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[C],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.b:return t.data.map((function(e,t){return Object(j.a)(Object(j.a)({},C),{},{key:t,login:{avatarUrl:e.avatar_url,name:e.login},description:e.description})}));default:return e}},T={login:"",repositories:[{name:"",starred:0,watched:0,createdAt:null,updatedAt:null}]},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[T],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.c:return Object(j.a)(Object(j.a)({},e),{},{repositories:t.data.map((function(e,t){return{key:t,name:e.name,starred:e.stargazers_count,watched:e.watchers_count,createdAt:e.created_at,updatedAt:e.updated_at}}))});case f.k:return Object(j.a)(Object(j.a)({},T),{},{login:t.data});default:return e}},A=Object(h.a)({state:k,organization:E,repository:_}),I=n(281),z=n(280),R=n(288),F=n(0),D=n(40),N=n(52),L=n(53),B=Object(L.a)(r||(r=Object(N.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n\n  div {\n    margin-right: 10px;\n  }\n"]))),U=Object(L.a)(c||(c=Object(N.a)(["\n  max-width: 30vh;\n  @media screen and (min-width: 360px) {\n    max-width: 35vh;\n  }\n\n  @media screen and (min-width: 425px) {\n    max-width: 40vh;\n  }\n\n  @media screen and (min-width: 768px) {\n    max-width: 70vh;\n  }\n  @media screen and (min-width: 1096px) {\n    max-width: 120vh;\n  }\n"]))),G=Object(L.a)(a||(a=Object(N.a)(["\n  font-family: 'Work Sans', sans-serif;\n  color: #EDEBEC;\n\n  @media screen and (min-width: 360px) {\n    font-size: 5vw;\n  }\n\n  \n  @media screen and (min-width: 426px) {\n    font-size: 5vw;\n  }\n"]))),W=Object(L.a)(i||(i=Object(N.a)(["\n  font-family: 'Open Sans Condensed', sans-serif;\n  color: #FFF;\n\n  @media screen and (min-width: 360px) {\n    width: 26vw;\n    font-size: 2vw;\n    height: 10vw;\n  }\n\n  @media screen and (min-width: 426px) {\n    width: 30vw;\n    font-size: 3vw;\n    height: 6vw;\n  }\n"]))),q=Object(L.a)(o||(o=Object(N.a)(["\n  color: #F7F8FB\n"]))),M=n(9),P=function(e){return Object(M.b)("p",{css:G,children:e.children})},X=function(){var e=Object(O.b)();return Object(M.c)(M.a,{children:[Object(M.b)(P,{children:"Organization Cleaner"}),Object(M.b)(D.a,{css:W,type:"primary",className:"btn btn-white btn-animate",onClick:function(){e(w)},children:Object(M.b)("span",{children:"Go!"})})]})},H=n(45),J=n(283),K=n(169),V=n(285),Y=n(76),Z=n.n(Y),Q=Object(L.a)(s||(s=Object(N.a)(["\n  min-width: 300px;\n  min-height: 60px;\n"]))),$={url:"https://api.github.com/user/orgs",method:"get"},ee=function(){var e=Object(O.b)(),t=J.a.useForm(),n=Object(H.a)(t,1)[0],r=Object(F.useState)(!1),c=Object(H.a)(r,2),a=c[0],i=c[1];return Object(M.c)(J.a,{form:n,onFinish:function(t){var n;i(!0),e((n=t.accessToken,{type:f.d,data:n})),Z()(Object(j.a)(Object(j.a)({},$),{},{headers:{Authorization:"token ".concat(t.accessToken)}})).then((function(t){e(x),e(function(e){return{type:f.b,data:e}}(t.data))})).catch((function(e){e.response?K.b.error(e.response.data.message):e.request?K.b.error("Try again."):K.b.error(e.message)})).finally((function(){return i(!1)}))},children:[Object(M.b)(J.a.Item,{name:"accessToken",rules:[{required:!0}],children:Object(M.b)(V.a,{css:Q,placeholder:"Github Access Token"})}),Object(M.b)("p",{children:Object(M.b)("a",{css:q,href:"https://github.com/settings/tokens",target:"_blank",rel:"noreferrer noopener",children:"Get Access Token"})}),Object(M.b)(J.a.Item,{children:Object(M.b)(D.a,{type:"primary",htmlType:"submit",loading:a,children:"Submit"})})]})},te=n(286),ne=n(289),re=n(282),ce=n(133),ae=function(e){return new Date(e).toLocaleString()},ie=function(){var e,t=Object(O.c)((function(e){return e.repository.repositories})),n=Object(O.c)((function(e){return e.repository.login})),r=Object(F.useState)(!0),c=Object(H.a)(r,2),a=c[0],i=c[1],o=Object(F.useState)([]),s=Object(H.a)(o,2),d=s[0],l=s[1],b=Object(F.useRef)(),u=function(e,t){t()},h=[Object(j.a)({title:"Name",dataIndex:"name",sorter:function(e,t){return(e.name>t.name)-(e.name<t.name)}},(e="name",{filterDropdown:function(t){var n=t.setSelectedKeys,r=t.selectedKeys,c=t.confirm,a=t.clearFilters;return Object(M.c)("div",{style:{padding:8},children:[Object(M.b)(V.a,{ref:b,placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return u(0,c)},style:{marginBottom:8,display:"block"}}),Object(M.c)(ne.b,{children:[Object(M.b)(D.a,{onClick:function(){return function(e){e()}(a)},size:"small",style:{width:90},children:"Reset"}),Object(M.b)(D.a,{type:"primary",onClick:function(){return u(0,c)},icon:Object(M.b)(ce.a,{}),size:"small",style:{width:90},children:"Search"})]})]})},filterIcon:function(e){return Object(M.b)(ce.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e]?n[e].toString().toLowerCase().includes(t.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return b.current.select()}),100)},render:function(e){return Object(M.b)("a",{style:{fontWeight:"bold"},href:"https://www.github.com/".concat(n,"/").concat(e),target:"_blank",rel:"noreferrer noopener",children:e})}})),{title:"Creation Date",dataIndex:"createdAt",render:ae,defaultSortOrder:"descend",sorter:function(e,t){return(e.createdAt>t.createdAt)-(e.createdAt<t.createdAt)}},{title:"Last Updated Date",dataIndex:"updatedAt",render:ae,sorter:function(e,t){return(e.updatedAt>t.updatedAt)-(e.updatedAt<t.updatedAt)}},{title:"Star",dataIndex:"starred",width:60,sorter:function(e,t){return(e.starred>t.starred)-(e.starred<t.starred)}},{title:"Watch",dataIndex:"watched",width:60,sorter:function(e,t){return(e.watched>t.watched)-(e.watched<t.watched)}}];Object(F.useEffect)((function(){i(!0)}),[]),Object(F.useEffect)((function(){i(!1)}),[t]);var f={onChange:function(e){l(e)}};return{renderTable:function(){return Object(M.b)(re.a,{css:U,columns:h,rowSelection:f,dataSource:t,loading:a,scroll:{x:"calc(500px)",y:300}})},selectedRepositories:d}},oe=n(21),se=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.repository.repositories})),n=Object(O.c)((function(e){return e.state})).accessToken,r=Object(F.useState)(!1),c=Object(H.a)(r,2),a=c[0],i=c[1],o=Object(O.c)((function(e){return e.repository.login})),s=ie(),d=s.renderTable,l=s.selectedRepositories,b=l.length>0;return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)(P,{children:"Select Repositories"}),b?Object(oe.jsx)("div",{style:{height:"40px"},children:Object(oe.jsx)("p",{style:{fontSize:"x-large"},children:"".concat(l.length," selected")})}):Object(oe.jsx)("div",{style:{height:"40px"}}),d(),Object(oe.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0 40px"},children:[Object(oe.jsx)(D.a,{onClick:function(){e(x)},children:"Back"}),Object(oe.jsx)(D.a,{type:"primary",onClick:function(){i(!0)},children:"Delete"})]}),Object(oe.jsx)(te.a,{title:"Confirm",visible:a,onOk:function(){i(!1),Z.a.all(l.map((function(e){return Z()({method:"delete",url:"https://api.github.com/repos/".concat(o,"/").concat(t[e].name),headers:{Authorization:"token ".concat(n)}})}))).then((function(){e(m)})).catch((function(t){t.response?K.b.error(t.response.data.message):t.request?K.b.error("Try again."):K.b.error(t.message),e(g)})),e(S)},onCancel:function(){i(!1)},children:Object(oe.jsxs)("p",{children:[Object(oe.jsx)("strong",{children:l.length})," ","repositories will be deleted."]})})]})},de=n(287),le=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.state})).result,n=function(){e(x)};return Object(oe.jsxs)(oe.Fragment,{children:[t===f.n&&Object(oe.jsx)(de.a,{status:"success",title:"Successfully deleted repositories. ",extra:[Object(oe.jsx)(D.a,{type:"primary",onClick:n,children:"Back"},"back_button"),Object(oe.jsx)(D.a,{onClick:function(){e(y)},children:"Home"},"home_button")]}),t===f.h&&Object(oe.jsx)(de.a,{status:"warning",title:"There are some problems with your operation.",extra:Object(oe.jsx)(D.a,{type:"primary",onClick:n,children:"Back"})})]})},be=function(){return Object(M.c)(M.a,{children:["Made by\xa0",Object(M.b)("a",{css:q,href:"https://github.com/wilddoubt",target:"_blank",rel:"noreferrer noopener",children:"wildDoubt"})]})},ue=n(284),Oe=[{title:"Name",dataIndex:"login",render:function(e){var t=e.avatarUrl,n=e.name;return Object(M.c)("div",{css:B,children:[Object(M.b)(ue.a,{src:t,width:16,preview:!1}),Object(M.b)("a",{style:{fontWeight:"bold"},href:"https://www.github.com/".concat(n),target:"_blank",rel:"noreferrer noopener",children:n})]})}},{title:"Description",dataIndex:"description"}],he=function(){var e=Object(F.useState)(""),t=Object(H.a)(e,2),n=t[0],r=t[1],c=Object(O.c)((function(e){return e.organization})),a={type:"radio",onChange:function(e){r(c[e].login.name)}};return{renderTable:function(){return Object(M.b)(re.a,{css:U,rowSelection:a,columns:Oe,dataSource:c,scroll:{x:"calc(300px)",y:"calc(350px)"}})},currentOrganization:n}},je=function(){var e=Object(F.useState)(!1),t=Object(H.a)(e,2),n=t[0],r=t[1],c=Object(O.c)((function(e){return e.state})).accessToken,a=Object(F.useState)(!1),i=Object(H.a)(a,2),o=i[0],s=i[1],d=Object(O.b)(),l=he(),b=l.renderTable,u=l.currentOrganization;return Object(M.c)(M.a,{children:[Object(M.b)(P,{children:"Select a Organization"}),b(),Object(M.b)(te.a,{title:"Confirm",visible:o,onOk:function(){var e;s(!1),r(!0),d((e=u,{type:f.k,data:e})),Z()({url:"https://api.github.com/orgs/".concat(u,"/repos?per_page=200"),method:"get",headers:{Authorization:"token ".concat(c)}}).then((function(e){d(function(e){return{type:f.c,data:e}}(e.data))})).catch((function(e){e.response?K.b.error(e.response.data.message):e.request?K.b.error("Try again."):K.b.error(e.message)})).finally((function(){r(!1),d(v)}))},onCancel:function(){s(!1)},children:Object(M.c)("p",{children:["You select",Object(M.b)("strong",{children:" ".concat(u)}),". Right?"]})}),Object(M.b)(D.a,{onClick:function(){u.length>0?s(!0):K.b.error("Oops! You haven't select a organization!!")},loading:n,children:"Next"})]})},fe=Object(L.a)(d||(d=Object(N.a)(["\n  flex: 0;\n  align-self: center;\n"]))),pe=Object(L.a)(l||(l=Object(N.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  flex: 1;\n  align-self: center;\n"])));var me=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.state})).state;return Object(F.useEffect)((function(){e(y)}),[]),Object(M.c)(M.a,{children:[Object(M.b)(z.a,{mode:"out-in",children:Object(M.b)(R.a,{classNames:"fade",addEndListener:function(e,t){e.addEventListener("transitionend",t,!1)},children:Object(M.c)("div",{css:pe,children:[t===f.i&&Object(M.b)(X,{}),t===f.a&&Object(M.b)(ee,{}),t===f.l&&Object(M.b)(je,{}),t===f.m&&Object(M.b)(se,{}),t===f.e&&Object(M.b)(le,{})]})},t)}),Object(M.c)("div",{css:fe,children:[Object(M.b)(I.a,{}),Object(M.b)(be,{})]})]})},ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,290)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},ye=Object(h.b)(A,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());u.a.render(Object(oe.jsx)(O.a,{store:ye,children:Object(oe.jsx)(me,{})}),document.getElementById("root")),ge()}},[[276,1,2]]]);
//# sourceMappingURL=main.bb8c3996.chunk.js.map